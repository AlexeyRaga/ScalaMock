<!DOCTYPE html >
<html>
        <head>
          <title>scalatest - ScalaMock 3.2 - org.scalamock.scalatest</title>
          <meta name="description" content="scalatest - ScalaMock 3.2 - org.scalamock.scalatest" />
          <meta name="keywords" content="scalatest ScalaMock 3.2 org.scalamock.scalatest" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../index.html';
            var hash = 'org.scalamock.scalatest.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img src="../../../lib/package_big.png" />
        <p id="owner"><a href="../../package.html" class="extype" name="org">org</a>.<a href="../package.html" class="extype" name="org.scalamock">scalamock</a></p>
        <h1>scalatest</h1> <span class="permalink">
      <a href="../../../index.html#org.scalamock.scalatest.package" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">scalatest</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="org.scalamock.scalatest.AbstractMockFactory" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="AbstractMockFactoryextendsSuiteMixinwithMockFactoryBase"></a>
      <a id="AbstractMockFactory:AbstractMockFactory"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="AbstractMockFactory.html"><span class="name">AbstractMockFactory</span></a><span class="result"> extends <span class="extype" name="org.scalatest.SuiteMixin">SuiteMixin</span> with <a href="../MockFactoryBase.html" class="extype" name="org.scalamock.MockFactoryBase">MockFactoryBase</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#org.scalamock.scalatest.package@AbstractMockFactoryextendsSuiteMixinwithMockFactoryBase" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="org.scalamock.scalatest.MockFactory" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="MockFactoryextendsAbstractMockFactorywithMock"></a>
      <a id="MockFactory:MockFactory"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="MockFactory.html"><span class="name">MockFactory</span></a><span class="result"> extends <a href="AbstractMockFactory.html" class="extype" name="org.scalamock.scalatest.AbstractMockFactory">AbstractMockFactory</a> with <a href="../Mock.html" class="extype" name="org.scalamock.Mock">Mock</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#org.scalamock.scalatest.package@MockFactoryextendsAbstractMockFactorywithMock" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">Trait that can be mixed into a <a href="http://www.scalatest.org/" target="_blank">ScalaTest</a> suite to provide
mocking support.</p><div class="fullcomment"><div class="comment cmt"><p>Trait that can be mixed into a <a href="http://www.scalatest.org/" target="_blank">ScalaTest</a> suite to provide
mocking support.</p><pre><span class="kw">class</span> CoffeeMachineTest <span class="kw">extends</span> FlatSpec <span class="kw">with</span> ShouldMatchers <span class="kw">with</span> MockFactory {

	<span class="lit">"CoffeeMachine"</span> should <span class="lit">"not turn on the heater when the water container is empty"</span> in {
	    <span class="kw">val</span> waterContainerMock = mock[WaterContainer]
	    (waterContainerMock.isEmpty _).expects().returning(<span class="kw">true</span>)
	    <span class="cmt">// ...</span>
	}

	it should <span class="lit">"not turn on the heater when the water container is overfull"</span> in {
	    <span class="kw">val</span> waterContainerMock = mock[WaterContainer]
	    <span class="cmt">// ...</span>
	}
}</pre><h4>Sharing mocks across test cases</h4><p>Sometimes multiple test cases need to work with the same mocks (and more generally - the same
fixtures: files, sockets, database connections, etc.). There are many techniques to avoid duplicating
the fixture code across test cases in ScalaTest, but ScalaMock recommends and officially supports
these two:</p><ul><li><b>isolated tests cases</b> - clean and simple, recommended when all test cases have the same
   or very similar fixtures</li><li><b>fixture contexts</b> - more flexible, recommened for complex test suites where single set of
   fixtures does not fit all test cases</li></ul><h5>Isolated test cases</h5><p>If you mix <code>OneInstancePerTest</code> trait into a <code>Suite</code>, each test case will run in its own instance
of the suite class and therefore each test will get a fresh copy of the instance variables.</p><p>This way in the suite scope you can declare instance variables (e.g. mocks) that will be used by
multiple test cases and perform common test case setup (e.g. set up some mock expectations).
Because each test cases has fresh instance variables different test cases do not interfere with each
other.</p><pre><span class="cmt">// Please note that this test suite mixes in OneInstancePerTest</span>
<span class="kw">class</span> CoffeeMachineTest <span class="kw">extends</span> FlatSpec <span class="kw">with</span> ShouldMatchers <span class="kw">with</span> OneInstancePerTest <span class="kw">with</span> MockFactory {
	<span class="cmt">// shared objects</span>
	<span class="kw">val</span> waterContainerMock = mock[WaterContainer]
	<span class="kw">val</span> heaterMock = mock[Heater]
	<span class="kw">val</span> coffeeMachine = <span class="kw">new</span> CoffeeMachine(waterContainerMock, heaterMock)

	<span class="cmt">// you can set common expectations in suite scope</span>
	(waterContainerMock.isOverfull _).expects().returning(<span class="kw">true</span>)

	<span class="cmt">// test setup</span>
	coffeeMachine.powerOn()

	<span class="lit">"CoffeeMachine"</span> should <span class="lit">"not turn on the heater when the water container is empty"</span> in {
	    coffeeMachine.isOn shouldBe <span class="kw">true</span>
	    <span class="cmt">// ...</span>
	    coffeeMachine.powerOff()
	}

	it should <span class="lit">"not turn on the heater when the water container is overfull"</span> in {
	    <span class="cmt">// each test case uses separate, fresh Suite so the coffee machine is turned on</span>
	    coffeeMachine.isOn shouldBe <span class="kw">true</span>
	    <span class="cmt">// ...</span>
	}
}</pre><h5>Fixture contexts</h5><p>You can also run each test case in separate fixture context. Fixture contexts can be extended
and combined and since each test case uses different instance of fixture context test cases do not
interfere with each other while they can have shared mocks and expectations.</p><pre><span class="kw">class</span> CoffeeMachineTest <span class="kw">extends</span> FlatSpec <span class="kw">with</span> ShouldMatchers <span class="kw">with</span> MockFactory {
	<span class="kw">trait</span> Test { <span class="cmt">// fixture context</span>
	    <span class="cmt">// shared objects</span>
	    <span class="kw">val</span> waterContainerMock = mock[WaterContainer]
	    <span class="kw">val</span> heaterMock = mock[Heater]
	    <span class="kw">val</span> coffeeMachine = <span class="kw">new</span> CoffeeMachine(waterContainerMock, heaterMock)

	    <span class="cmt">// test setup</span>
	    coffeeMachine.powerOn()
	}

	<span class="lit">"CoffeeMachine"</span> should <span class="lit">"not turn on the heater when the water container is empty"</span> in <span class="kw">new</span> Test {
	    coffeeMachine.isOn shouldBe <span class="kw">true</span>
	    (waterContainerMock.isOverfull _).expects().returning(<span class="kw">true</span>)
	    <span class="cmt">// ...</span>
	}

	<span class="cmt">// you can extend and combine fixture-contexts</span>
	<span class="kw">trait</span> OverfullWaterContainerTest <span class="kw">extends</span> Test {
	    <span class="cmt">// you can set expectations and use mocks in fixture-context</span>
	    (waterContainerMock.isEmpty _).expects().returning(<span class="kw">true</span>)

	    <span class="cmt">// and define helper functions</span>
	    <span class="kw">def</span> complexLogic() {
	      coffeeMachine.powerOff()
	      <span class="cmt">// ...</span>
	    }
	}

	it should <span class="lit">"not turn on the heater when the water container is overfull"</span> in <span class="kw">new</span> OverfullWaterContainerTest {
	    <span class="cmt">// ...</span>
	    complexLogic()
	}
}</pre><p>See <a href="../package.html" class="extype" name="org.scalamock">org.scalamock</a> for overview documentation.
</p></div></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="org.scalamock.scalatest.proxy" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="proxy"></a>
      <a id="proxy:proxy"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="proxy/package.html"><span class="name">proxy</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#org.scalamock.scalatest.package@proxy" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
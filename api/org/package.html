<!DOCTYPE html >
<html>
        <head>
          <title>org - ScalaMock 3.2 - org</title>
          <meta name="description" content="org - ScalaMock 3.2 - org" />
          <meta name="keywords" content="org ScalaMock 3.2 org" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../lib/template.js"></script>
      <script type="text/javascript" src="../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../index.html';
            var hash = 'org.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img src="../lib/package_big.png" />
        
        <h1>org</h1> <span class="permalink">
      <a href="../index.html#org.package" title="Permalink" target="_top">
        <img src="../lib/permalink.png" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">org</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="org.scalamock" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="scalamock"></a>
      <a id="scalamock:scalamock"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="scalamock/package.html"><span class="name">scalamock</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../index.html#org.package@scalamock" title="Permalink" target="_top">
        <img src="../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">To use ScalaMock, you need the relevant <code>MockFactoryBase</code> trait implementation:</p><div class="fullcomment"><div class="comment cmt"><h4>ScalaMock: Native Scala Mocking</h4><p>To use ScalaMock, you need the relevant <code>MockFactoryBase</code> trait implementation:</p><ul><li>for ScalaTest, use <a href="scalamock/scalatest/MockFactory.html" class="extype" name="org.scalamock.scalatest.MockFactory">org.scalamock.scalatest.MockFactory</a>,</li><li>for Specs2 use <a href="scalamock/specs2/IsolatedMockFactory.html" class="extype" name="org.scalamock.specs2.IsolatedMockFactory">org.scalamock.specs2.IsolatedMockFactory</a> or
   <a href="scalamock/specs2/MockContext.html" class="extype" name="org.scalamock.specs2.MockContext">org.scalamock.specs2.MockContext</a></li></ul><p>At present, ScalaMock can only mock traits, Java interfaces, and non-final
classes that define a default constructor. A future version will be able to
mock any class, and singleton/companion objects.</p><p>ScalaMock supports two different mocking styles - <i>expectations first</i> and
<i>record then verify</i>. These styles can be mixed within a single test.</p><h4>Expectations-First Style</h4><p>In the expectations-first style, expectations are set on mock objects before
exercising the system under test. If these expectations are not met, the
test fails.</p><p>A mock function that supports this style is created with <code>mockFunction</code>. For
example, to create a mock function taking a single <code>Int</code> argument and
returning a <code>String</code>:</p><pre><span class="kw">val</span> m = mockFunction[<span class="std">Int</span>, <span class="std">String</span>]</pre><p>A mock object that supports this style is created with <code>mock</code>. For example,
to create a mock that implements the <code>Turtle</code> trait:</p><pre><span class="kw">val</span> m = mock[Turtle]</pre><p>Expectations can then be set using <code>expects</code>:</p><pre>(m.setPosition _).expects(<span class="num">10.0</span>, <span class="num">10.0</span>)
(m.forward _).expects(<span class="num">5.0</span>)
(m.getPosition _).expects().returning(<span class="num">15.0</span>, <span class="num">10.0</span>)

drawLine(m, (<span class="num">10.0</span>, <span class="num">10.0</span>), (<span class="num">15.0</span>, <span class="num">10.0</span>))</pre><h4>Record-then-Verify (Mockito) Style</h4><p>In the record then verify style, expectations are verified after the system
under test has executed.</p><p>A stub function that supports this style is created with <code>stubFunction</code>. For
example:</p><pre><span class="kw">val</span> m = stubFunction[<span class="std">Int</span>, <span class="std">String</span>]</pre><p>A stub object that supports this style is created with <code>stub</code>. For example:</p><pre><span class="kw">val</span> m = stub[Turtle]</pre><p>Return values that are used by the system under test can be set up by using
<code>when</code>. Calls are verified using <code>verify</code>:</p><pre>(m.getPosition _).when().returns(<span class="num">15.0</span>, <span class="num">10.0</span>)

drawLine(m, (<span class="num">10.0</span>, <span class="num">10.0</span>), (<span class="num">15.0</span>, <span class="num">10.0</span>))

(m.setPosition _).verify(<span class="num">10.0</span>, <span class="num">10.0</span>)
(m.forward _).verify(<span class="num">5.0</span>)</pre><h4>Argument matching</h4><p>ScalaMock supports two types of generalised matching: <i>wildcards</i> and
<i>epsilon matching</i>.</p><h5>Wildcards</h5><p>Wildcard values are specified with an <code>*</code> (asterisk). For example:</p><pre>m expects (<span class="lit">"this"</span>, *)</pre><p>will match any of the following:</p><pre>m(<span class="lit">"this"</span>, <span class="num">42</span>)
m(<span class="lit">"this"</span>, <span class="num">1.0</span>)
m(<span class="lit">"this"</span>, <span class="kw">null</span>)</pre><h5>Epsilon matching</h5><p>Epsilon matching is useful when dealing with floating point values. An epsilon match is
specified with the <code>~</code> (tilde) operator:</p><pre>m expects (~<span class="num">42.0</span>)</pre><p>will match:</p><pre>m(<span class="num">42.0</span>)
m(<span class="num">42.0001</span>)
m(<span class="num">41.9999</span>)</pre><p>but will not match:</p><pre>m(<span class="num">43.0</span>)
m(<span class="num">42.1</span>)</pre><h5>Repeated parameters</h5><p>Repeated parameters are represented as a <code>Seq</code>. For example, given:</p><pre><span class="kw">def</span> takesRepeatedParameter(x: <span class="std">Int</span>, ys: <span class="std">String</span>*)</pre><p>you can set an expectation with:</p><pre>(m.takesRepeatedParameter _).expects(<span class="num">42</span>, <span class="std">Seq</span>(<span class="lit">"red"</span>, <span class="lit">"green"</span>, <span class="lit">"blue"</span>))</pre><h5>Predicate matching</h5><p>More complicated argument matching can be implemented by using <code>where</code> to
pass a predicate:</p><pre>m = mockFunction[<span class="std">Double</span>, <span class="std">Double</span>, <span class="std">Unit</span>]
m expects (where { _ &lt; _ })</pre><h5>Return values</h5><p>By default mocks and stubs return <code>null</code>. You can return a computed return
value (or throw a computed exception) with <code>onCall</code>:</p><pre><span class="kw">val</span> mockIncrement = mockFunction[<span class="std">Int</span>, <span class="std">Int</span>]
m expects (*) onCall { _ + <span class="num">1</span> }</pre><h5>Overloaded, curried and polymorphic methods</h5><p>Overloaded, curried and polymorphic methods can be mocked by specifying
either argument types or type parameters. For example:</p><pre><span class="kw">trait</span> Foo {
<span class="kw">def</span> overloaded(x: <span class="std">Int</span>): <span class="std">String</span>
<span class="kw">def</span> overloaded(x: <span class="std">String</span>): <span class="std">String</span>
<span class="kw">def</span> overloaded[T](x: T): <span class="std">String</span>
<span class="kw">def</span> curried(x: <span class="std">Int</span>)(y: <span class="std">Double</span>): <span class="std">String</span>
<span class="kw">def</span> polymorphic[T](x: <span class="std">List</span>[T]): <span class="std">String</span>
}</pre><pre><span class="kw">val</span> m = mock[Foo]
(m.overloaded(_: <span class="std">Int</span>)).expects(<span class="num">10</span>)
(m.overloaded(_: <span class="std">String</span>)).expects(<span class="lit">"foo"</span>)
(m.overloaded[<span class="std">Double</span>] _).expects(<span class="num">1.23</span>)
(m.curried(_: <span class="std">Int</span>)(_: <span class="std">Double</span>)).expects(<span class="num">10</span>, <span class="num">1.23</span>)
(m.polymorphic(_: <span class="std">List</span>[<span class="std">Int</span>])).expects(<span class="std">List</span>(<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>))
(m.polymorphic[<span class="std">String</span>] _).expects(<span class="lit">"foo"</span>)</pre><h5>Exceptions</h5><p>Instead of a return value, mocks and stubs can be instructed to throw:</p><pre>m expects (<span class="lit">"this"</span>, <span class="lit">"that"</span>) throws <span class="kw">new</span> RuntimeException(<span class="lit">"what's that?"</span>)</pre><h5>Call count</h5><p>By default, mocks and stubs expect exactly one call. Alternative constraints
can be set with <code>repeat</code>:</p><pre>m1.expects(<span class="num">42</span>).returns(<span class="num">42</span>).repeat(<span class="num">3</span> to <span class="num">7</span>)
m2 expects (<span class="num">3</span>) repeat <span class="num">10</span></pre><p>There are various aliases for common expectations and styles:</p><pre>m1.expects(<span class="lit">"this"</span>, <span class="lit">"that"</span>).once
m2.expects().returns(<span class="lit">"foo"</span>).noMoreThanTwice
m3.expects(<span class="num">42</span>).repeated(<span class="num">3</span>).times</pre><p>For a full list, see <a href="scalamock/CallHandler.html" class="extype" name="org.scalamock.CallHandler">org.scalamock.CallHandler</a>.</p><h4>Ordering</h4><p>By default, expectations can be satisfied in any order. For example:</p><pre>m expects (<span class="num">1</span>)
m expects (<span class="num">2</span>)
m(<span class="num">2</span>)
m(<span class="num">1</span>)</pre><p>A specific sequence can be enforced with <code>inSequence</code>:</p><pre>inSequence {
  m expects (<span class="num">1</span>)
  m expects (<span class="num">2</span>)
}
m(<span class="num">2</span>) <span class="cmt">// throws ExpectationException</span>
m(<span class="num">1</span>)</pre><p>Multiple sequences can be specified. As long as the calls within each sequence happen in the
correct order, calls within different sequences can be interleaved. For example:</p><pre>inSequence {
  m expects (<span class="num">1</span>)
  m expects (<span class="num">2</span>)
}
inSequence {
  m expects (<span class="num">3</span>)
  m expects (<span class="num">4</span>)
}

m(<span class="num">3</span>)
m(<span class="num">1</span>)
m(<span class="num">2</span>)
m(<span class="num">4</span>)</pre><p>To specify that there is no constraint on ordering, use <code>inAnyOrder</code> (there is an implicit
<code>inAnyOrder</code> at the top level). Calls to <code>inSequence</code> and <code>inAnyOrder</code> can be arbitrarily
nested. For example:</p><pre>(m.a _).expects()
inSequence {
  (m.b _).expects()
  inAnyOrder {
    (m.c _).expects()
    inSequence {
      (m.d _).expects()
      (m.e _).expects()
    }
    (m.f _).expects()
  }
  (m.g _).expects()
}</pre><h4> Threads </h4><p>ScalaMock will work with tests that are run in parallel (Specs2 runs tests in parallel by
default, and ScalaTest does so with <code>ParallelTestExecution</code>).</p><p>You can call mocks from other threads within tests, but any such calls must be complete
before the test completes - it's an error to call a mock afterwards.
</p></div></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>